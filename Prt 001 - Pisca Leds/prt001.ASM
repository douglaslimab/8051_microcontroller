;-------------------------------------------------------------------------------------------
;MECATRONICA INDUSTRIAL		MICROCONTROLADORES
;DOUGLAS LIMA BENEVIDES
;PRATICA - 01 			SEQUENCIA DE LEDS
;07/02/2010			07/02/2010	
;-------------------------------------------------------------------------------------------
		ORG		000h
		AJMP		INICIO
		ORG		003h
		AJMP		INT_0
		ORG		00Bh
		AJMP		TIM_0
		ORG		013h
		AJMP		INT_1
		ORG		01Bh
		AJMP		TIM_1
;-------------------------------------------------------------------------------------------
LINHA		EQU		P2
;-------------------------------------------------------------------------------------------
INICIO:		MOV		SP,#02Fh
		MOV		LINHA,#0FEh

		MOV		IE,#085h
		MOV		IP,#005h

		SETB		IT0
		SETB		IT1
;-------------------------------------------------------------------------------------------
MAIN:		
		AJMP		MAIN
;-------------------------------------------------------------------------------------------
INT_0:		MOV		A,LINHA
		RR		A
		MOV		LINHA,A
		RETI
;-------------------------------------------------------------------------------------------
INT_1:		MOV		A,LINHA
		RL		A
		MOV		LINHA,A
		RETI
;-------------------------------------------------------------------------------------------
TIM_0:
		RETI
;-------------------------------------------------------------------------------------------
TIM_1:
		RETI
;-------------------------------------------------------------------------------------------
TEMPO:		MOV		R0,#0FFh
VOLTA:		MOV		R1,#0FFh
		DJNZ		R1,$
		DJNZ		R0,VOLTA
		RET
;-------------------------------------------------------------------------------------------
		END